24.05.2024 22:52:30.979 [http-nio-8080-exec-4] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [medec]. DEPARTMENT_NOT_EXIST
24.05.2024 22:53:52.562 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
24.05.2024 22:55:03.345 [http-nio-8080-exec-5] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
24.05.2024 23:17:59.422 [http-nio-8080-exec-7] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
24.05.2024 23:18:41.188 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
24.05.2024 23:24:41.219 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
24.05.2024 23:27:46.745 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
24.05.2024 23:27:48.436 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
24.05.2024 23:27:53.518 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
24.05.2024 23:27:54.200 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
24.05.2024 23:27:54.590 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
24.05.2024 23:27:55.197 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
24.05.2024 23:27:55.455 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
24.05.2024 23:35:02.929 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
24.05.2024 23:35:31.862 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
24.05.2024 23:37:09.103 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
24.05.2024 23:40:54.059 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
24.05.2024 23:53:12.137 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

25.05.2024 00:05:35.570 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

25.05.2024 00:12:46.912 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

25.05.2024 00:14:30.030 [http-nio-8080-exec-4] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [ROLE_GUEST]. No personal information found for role: ROLE_GUEST
25.05.2024 00:18:58.044 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

25.05.2024 00:25:57.192 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 00:26:47.830 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 00:26:50.496 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 00:27:06.306 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 00:27:06.837 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 00:27:07.255 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 00:27:08.031 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 00:27:08.582 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 00:29:29.209 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 00:38:29.158 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 00:46:15.386 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 00:47:17.131 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 00:47:59.298 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 00:48:01.283 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 00:48:05.819 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 00:48:06.319 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 00:48:10.110 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 00:48:10.641 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 00:48:10.829 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 09:36:46.834 [http-nio-8080-exec-1] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=PROGRAMMER, vacancyDescription=Programmer P D, vacancyRequirements=Requirements for Programmer Position, vacancyContactInfo=contact@example.com, depName=IT)]. VACANCY_ALREADY_EXIST
25.05.2024 09:36:46.862 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: com.example.employeeoffice.exception.VacancyAlreadyExistsException: VACANCY_ALREADY_EXIST] with root cause
com.example.employeeoffice.exception.VacancyAlreadyExistsException: VACANCY_ALREADY_EXIST
	at com.example.employeeoffice.service.impl.VacancyServiceImpl.createVacancy(VacancyServiceImpl.java:47)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.example.employeeoffice.service.impl.VacancyServiceImpl$$SpringCGLIB$$0.createVacancy(<generated>)
	at com.example.employeeoffice.controller.VacancyController.creteVacancy(VacancyController.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.example.employeeoffice.controller.VacancyController$$SpringCGLIB$$0.creteVacancy(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
25.05.2024 09:36:59.787 [http-nio-8080-exec-2] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=PROGRAMMER, vacancyDescription=Programmer P D, vacancyRequirements=Requirements for Programmer Position, vacancyContactInfo=contact@example.com, depName=IT)]. VACANCY_ALREADY_EXIST
25.05.2024 09:36:59.795 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: com.example.employeeoffice.exception.VacancyAlreadyExistsException: VACANCY_ALREADY_EXIST] with root cause
com.example.employeeoffice.exception.VacancyAlreadyExistsException: VACANCY_ALREADY_EXIST
	at com.example.employeeoffice.service.impl.VacancyServiceImpl.createVacancy(VacancyServiceImpl.java:47)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.example.employeeoffice.service.impl.VacancyServiceImpl$$SpringCGLIB$$0.createVacancy(<generated>)
	at com.example.employeeoffice.controller.VacancyController.creteVacancy(VacancyController.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.example.employeeoffice.controller.VacancyController$$SpringCGLIB$$0.creteVacancy(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
25.05.2024 09:39:32.089 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoClassDefFoundError: com/example/employeeoffice/generator/PasswordGenerator] with root cause
java.lang.ClassNotFoundException: com.example.employeeoffice.generator.PasswordGenerator
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)
	at com.example.employeeoffice.mapper.EmployeeMapper.generatePersonalInfo(EmployeeMapper.java:61)
	at com.example.employeeoffice.mapper.EmployeeMapperImpl.toEntity(EmployeeMapperImpl.java:45)
	at com.example.employeeoffice.service.impl.EmployeeServiceImpl.createEmployee(EmployeeServiceImpl.java:82)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.example.employeeoffice.service.impl.EmployeeServiceImpl$$SpringCGLIB$$0.createEmployee(<generated>)
	at com.example.employeeoffice.controller.EmployeeController.createEmployee(EmployeeController.java:42)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.example.employeeoffice.controller.EmployeeController$$SpringCGLIB$$0.createEmployee(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
25.05.2024 09:40:04.346 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoClassDefFoundError: com/example/employeeoffice/generator/PasswordGenerator] with root cause
java.lang.ClassNotFoundException: com.example.employeeoffice.generator.PasswordGenerator
	at com.example.employeeoffice.mapper.EmployeeMapper.generatePersonalInfo(EmployeeMapper.java:61)
	at com.example.employeeoffice.mapper.EmployeeMapperImpl.toEntity(EmployeeMapperImpl.java:45)
	at com.example.employeeoffice.service.impl.EmployeeServiceImpl.createEmployee(EmployeeServiceImpl.java:82)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.example.employeeoffice.service.impl.EmployeeServiceImpl$$SpringCGLIB$$0.createEmployee(<generated>)
	at com.example.employeeoffice.controller.EmployeeController.createEmployee(EmployeeController.java:42)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.example.employeeoffice.controller.EmployeeController$$SpringCGLIB$$0.createEmployee(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
25.05.2024 09:45:03.485 [http-nio-8080-exec-1] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=PROGRAMMER, vacancyDescription=Programmer P D, vacancyRequirements=Requirements for Programmer Position, vacancyContactInfo=contact@example.com, depName=IT)]. VACANCY_ALREADY_EXIST
25.05.2024 10:10:50.303 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: The file classpath:/db/changelog/changelog-master.xml was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: The file classpath:/db/changelog/changelog-master.xml was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:114)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:15)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 10:15:30.047 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 32 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 34 common frames omitted
Caused by: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 36 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:44)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 38 common frames omitted
Caused by: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.resource.ResourceAccessor.getExisting(ResourceAccessor.java:162)
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:40)
	... 40 common frames omitted
25.05.2024 10:17:56.477 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 32 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 34 common frames omitted
Caused by: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 36 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:44)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 38 common frames omitted
Caused by: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.resource.ResourceAccessor.getExisting(ResourceAccessor.java:162)
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:40)
	... 40 common frames omitted
25.05.2024 10:20:58.320 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 32 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 34 common frames omitted
Caused by: liquibase.exception.SetupException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 36 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:44)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 38 common frames omitted
Caused by: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.resource.ResourceAccessor.getExisting(ResourceAccessor.java:162)
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:40)
	... 40 common frames omitted
25.05.2024 10:22:37.111 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 32 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 34 common frames omitted
Caused by: liquibase.exception.SetupException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 36 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:44)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 38 common frames omitted
Caused by: java.io.FileNotFoundException: The file /db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.resource.ResourceAccessor.getExisting(ResourceAccessor.java:162)
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:40)
	... 40 common frames omitted
25.05.2024 10:23:35.304 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 32 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 34 common frames omitted
Caused by: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 36 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:44)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 38 common frames omitted
Caused by: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.resource.ResourceAccessor.getExisting(ResourceAccessor.java:162)
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:40)
	... 40 common frames omitted
25.05.2024 10:33:46.836 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 32 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 34 common frames omitted
Caused by: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 36 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:44)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 38 common frames omitted
Caused by: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.resource.ResourceAccessor.getExisting(ResourceAccessor.java:162)
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:40)
	... 40 common frames omitted
25.05.2024 10:36:29.579 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: The file classpath:/db/changelog/changelog-master.xml was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: The file classpath:/db/changelog/changelog-master.xml was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:114)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:15)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 10:39:47.437 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: The file classpath:db/changelog/changelog-master.xml was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: The file classpath:db/changelog/changelog-master.xml was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:114)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:15)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 10:41:58.426 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 32 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 34 common frames omitted
Caused by: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 36 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:44)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 38 common frames omitted
Caused by: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.resource.ResourceAccessor.getExisting(ResourceAccessor.java:162)
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:40)
	... 40 common frames omitted
25.05.2024 10:43:26.493 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 32 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:25)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 34 common frames omitted
Caused by: liquibase.exception.SetupException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:447)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:376)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)
	... 36 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:44)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:775)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:438)
	... 38 common frames omitted
Caused by: java.io.FileNotFoundException: The file db/changelog/changes/v0.0.1-SNAPSHOT/inserts_roles.sql was not found in the configured search path:
    - Spring classpath
More locations can be added with the 'searchPath' parameter.
	at liquibase.resource.ResourceAccessor.getExisting(ResourceAccessor.java:162)
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:40)
	... 40 common frames omitted
25.05.2024 10:47:46.441 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:02:10.258 [main] ERROR liquibase.parser - cvc-elt.1.a: Cannot find the declaration of element 'databaseChangeLog'.
25.05.2024 11:02:10.324 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Error parsing line 2 column 20 of classpath:/db/changelog/changes/changelog-master.xml: cvc-elt.1.a: Cannot find the declaration of element 'databaseChangeLog'.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing line 2 column 20 of classpath:/db/changelog/changes/changelog-master.xml: cvc-elt.1.a: Cannot find the declaration of element 'databaseChangeLog'.
	at liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:130)
	at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:15)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: org.xml.sax.SAXParseException: cvc-elt.1.a: Cannot find the declaration of element 'databaseChangeLog'.
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)
	at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)
	at java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2133)
	at java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:830)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3079)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:836)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)
	at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)
	at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)
	at liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:121)
	... 33 common frames omitted
25.05.2024 11:06:25.043 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:13:31.140 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 15 [Failed SQL: (1064) # DROP TABLE IF EXISTS role_authority;
# DROP TABLE IF EXISTS pers_info_role;
# DROP TABLE IF EXISTS events_employee;
# DROP TABLE IF EXISTS events;
# DROP TABLE IF EXISTS addresses;
# DROP TABLE IF EXISTS vacations;
# DROP TABLE IF EXISTS vacancies;
# DROP TABLE IF EXISTS employees;
# DROP TABLE IF EXISTS departments;
# DROP TABLE IF EXISTS work_schedules;
# DROP TABLE IF EXISTS personal_info;
# DROP TABLE IF EXISTS authorities;
# DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 15 [Failed SQL: (1064) # DROP TABLE IF EXISTS role_authority;
# DROP TABLE IF EXISTS pers_info_role;
# DROP TABLE IF EXISTS events_employee;
# DROP TABLE IF EXISTS events;
# DROP TABLE IF EXISTS addresses;
# DROP TABLE IF EXISTS vacations;
# DROP TABLE IF EXISTS vacancies;
# DROP TABLE IF EXISTS employees;
# DROP TABLE IF EXISTS departments;
# DROP TABLE IF EXISTS work_schedules;
# DROP TABLE IF EXISTS personal_info;
# DROP TABLE IF EXISTS authorities;
# DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 15 [Failed SQL: (1064) # DROP TABLE IF EXISTS role_authority;
# DROP TABLE IF EXISTS pers_info_role;
# DROP TABLE IF EXISTS events_employee;
# DROP TABLE IF EXISTS events;
# DROP TABLE IF EXISTS addresses;
# DROP TABLE IF EXISTS vacations;
# DROP TABLE IF EXISTS vacancies;
# DROP TABLE IF EXISTS employees;
# DROP TABLE IF EXISTS departments;
# DROP TABLE IF EXISTS work_schedules;
# DROP TABLE IF EXISTS personal_info;
# DROP TABLE IF EXISTS authorities;
# DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 15 [Failed SQL: (1064) # DROP TABLE IF EXISTS role_authority;
# DROP TABLE IF EXISTS pers_info_role;
# DROP TABLE IF EXISTS events_employee;
# DROP TABLE IF EXISTS events;
# DROP TABLE IF EXISTS addresses;
# DROP TABLE IF EXISTS vacations;
# DROP TABLE IF EXISTS vacancies;
# DROP TABLE IF EXISTS employees;
# DROP TABLE IF EXISTS departments;
# DROP TABLE IF EXISTS work_schedules;
# DROP TABLE IF EXISTS personal_info;
# DROP TABLE IF EXISTS authorities;
# DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 15
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:22:10.491 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:22:55.680 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:25:14.177 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS personal_info;

DROP TAB' at line 3 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS role_authority;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS personal_info;

DROP TAB' at line 3 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS role_authority;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS personal_info;

DROP TAB' at line 3 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS role_authority;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS personal_info;

DROP TAB' at line 3 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS role_authority;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS personal_info;

DROP TAB' at line 3
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:26:15.458 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:30:35.732 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:31:30.104 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DRO' at line 4 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DRO' at line 4 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DRO' at line 4 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DRO' at line 4 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DRO' at line 4
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:36:03.459 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3 [Failed SQL: (1064) --  ,   
DROP TABLE IF EXISTS role_authority;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS roles;

--  
CREATE TABLE IF NOT EXISTS roles (
                                     role_id BINARY(16) PRIMARY KEY,
                                     role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities (
                                           auth_id BINARY(16) PRIMARY KEY,
                                           authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info (
                                             pers_info_id BINARY(16) PRIMARY KEY,
                                             username VARCHAR(50) NOT NULL,
                                             birthday DATE,
                                             phone_number VARCHAR(20) UNIQUE,
                                             email VARCHAR(60) UNIQUE,
                                             password VARCHAR(128) NOT NULL,
                                             salary DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules (
                                              sched_id BINARY(16) PRIMARY KEY,
                                              sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
                                              is_day_off BOOLEAN,
                                              start_time TIME DEFAULT NULL,
                                              end_time TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments (
                                           dep_id BINARY(16) PRIMARY KEY,
                                           dep_name ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
                                           dep_phone VARCHAR(20),
                                           dep_email VARCHAR(60),
                                           dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees (
                                         emp_id BINARY(16) PRIMARY KEY,
                                         first_name VARCHAR(50) NOT NULL,
                                         last_name VARCHAR(50) NOT NULL,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         hire_date DATE,
                                         term_date DATE,
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         status_emp ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
                                         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                                         vac_plan VARCHAR(255) DEFAULT NULL,
                                         dep_id BINARY(16),
                                         dep_manager_id BINARY(16),
                                         sched_id BINARY(16),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
                                         FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies (
                                         vacancy_id BINARY(16) PRIMARY KEY,
                                         position ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
                                         vacancy_description VARCHAR(255),
                                         vacancy_requirements VARCHAR(255),
                                         vacancy_salary DECIMAL(10, 2),
                                         workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
                                         vacancy_status ENUM ('ACTIVE', 'CLOSE'),
                                         vacancy_contact_info VARCHAR(255),
                                         dep_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations (
                                         vac_id BINARY(16) PRIMARY KEY,
                                         vac_start_date DATE,
                                         vac_end_date DATE,
                                         vac_type BOOLEAN,
                                         vac_category ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
                                         substitution_emp_id BINARY(16) NOT NULL,
                                         emp_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
                                         FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses (
                                         address_id BINARY(16) PRIMARY KEY,
                                         country VARCHAR(100),
                                         city VARCHAR(100),
                                         street VARCHAR(255),
                                         house_number VARCHAR(20),
                                         apart_number VARCHAR(20),
                                         address_type ENUM ('HOME', 'WORK'),
                                         pers_info_id BINARY(16) NOT NULL,
                                         FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events (
                                      ev_id BINARY(16) PRIMARY KEY,
                                      ev_type ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
                                      start_date_time TIMESTAMP,
                                      location VARCHAR(255),
                                      description VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee (
                                               ev_id BINARY(16) NOT NULL,
                                               emp_id BINARY(16) NOT NULL,
                                               PRIMARY KEY (emp_id, ev_id),
                                               FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
                                               FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role (
                                              pers_info_id BINARY(16) NOT NULL,
                                              role_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (pers_info_id, role_id),
                                              FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority (
                                              role_id BINARY(16) NOT NULL,
                                              auth_id BINARY(16) NOT NULL,
                                              PRIMARY KEY (role_id, auth_id),
                                              FOREIGN KEY (role_id) REFERENCES roles (role_id),
                                              FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS events_employee;
DROP ' at line 3
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:37:04.283 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2 [Failed SQL: (1064) DROP TABLE IF EXISTS roles;
DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE IF EXISTS work_schedules;
DROP TABLE IF EXISTS departments;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS vacancies;
DROP TABLE IF EXISTS vacations;
DROP TABLE IF EXISTS addresses;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS events_employee;
DROP TABLE IF EXISTS pers_info_role;
DROP TABLE IF EXISTS role_authority;

CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16),
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);

CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);

CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS authorities;
DROP TABLE IF EXISTS personal_info;
DROP TABLE' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:38:21.420 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DRO' at line 3 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DRO' at line 3 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DRO' at line 3 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DRO' at line 3 [Failed SQL: (1064) DROP TABLE IF EXISTS role_authority;

DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DROP TABLE IF EXISTS events;

DROP TABLE IF EXISTS addresses;

DROP TABLE IF EXISTS vacations;

DROP TABLE IF EXISTS vacancies;

DROP TABLE IF EXISTS employees;

DROP TABLE IF EXISTS departments;

DROP TABLE IF EXISTS work_schedules;

DROP TABLE IF EXISTS personal_info;

DROP TABLE IF EXISTS authorities;

DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP TABLE IF EXISTS pers_info_role;

DROP TABLE IF EXISTS events_employee;

DRO' at line 3
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:46:28.319 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
 ' at line 34 [Failed SQL: (1064) # DROP TABLE IF EXISTS role_authority;
#
# DROP TABLE IF EXISTS pers_info_role;
#
# DROP TABLE IF EXISTS events_employee;
#
# DROP TABLE IF EXISTS events;
#
# DROP TABLE IF EXISTS addresses;
#
# DROP TABLE IF EXISTS vacations;
#
# DROP TABLE IF EXISTS vacancies;
#
# DROP TABLE IF EXISTS employees;
#
# DROP TABLE IF EXISTS departments;
#
# DROP TABLE IF EXISTS work_schedules;
#
# DROP TABLE IF EXISTS personal_info;
#
# DROP TABLE IF EXISTS authorities;
#
# DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
 ' at line 34 [Failed SQL: (1064) # DROP TABLE IF EXISTS role_authority;
#
# DROP TABLE IF EXISTS pers_info_role;
#
# DROP TABLE IF EXISTS events_employee;
#
# DROP TABLE IF EXISTS events;
#
# DROP TABLE IF EXISTS addresses;
#
# DROP TABLE IF EXISTS vacations;
#
# DROP TABLE IF EXISTS vacancies;
#
# DROP TABLE IF EXISTS employees;
#
# DROP TABLE IF EXISTS departments;
#
# DROP TABLE IF EXISTS work_schedules;
#
# DROP TABLE IF EXISTS personal_info;
#
# DROP TABLE IF EXISTS authorities;
#
# DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
 ' at line 34 [Failed SQL: (1064) # DROP TABLE IF EXISTS role_authority;
#
# DROP TABLE IF EXISTS pers_info_role;
#
# DROP TABLE IF EXISTS events_employee;
#
# DROP TABLE IF EXISTS events;
#
# DROP TABLE IF EXISTS addresses;
#
# DROP TABLE IF EXISTS vacations;
#
# DROP TABLE IF EXISTS vacancies;
#
# DROP TABLE IF EXISTS employees;
#
# DROP TABLE IF EXISTS departments;
#
# DROP TABLE IF EXISTS work_schedules;
#
# DROP TABLE IF EXISTS personal_info;
#
# DROP TABLE IF EXISTS authorities;
#
# DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
 ' at line 34 [Failed SQL: (1064) # DROP TABLE IF EXISTS role_authority;
#
# DROP TABLE IF EXISTS pers_info_role;
#
# DROP TABLE IF EXISTS events_employee;
#
# DROP TABLE IF EXISTS events;
#
# DROP TABLE IF EXISTS addresses;
#
# DROP TABLE IF EXISTS vacations;
#
# DROP TABLE IF EXISTS vacancies;
#
# DROP TABLE IF EXISTS employees;
#
# DROP TABLE IF EXISTS departments;
#
# DROP TABLE IF EXISTS work_schedules;
#
# DROP TABLE IF EXISTS personal_info;
#
# DROP TABLE IF EXISTS authorities;
#
# DROP TABLE IF EXISTS roles;


CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
 ' at line 34
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 11:53:10.741 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
 ' at line 7 [Failed SQL: (1064) CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
 ' at line 7 [Failed SQL: (1064) CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:128)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:289)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:288)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changes/v0.0.1-SNAPSHOT/create_tables.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
 ' at line 7 [Failed SQL: (1064) CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:720)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:115)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:95)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:67)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
 ' at line 7 [Failed SQL: (1064) CREATE TABLE IF NOT EXISTS roles
(
    role_id   BINARY(16) PRIMARY KEY,
    role_name ENUM ('ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_USER', 'ROLE_GUEST') DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
    authority ENUM ('READ_DOCUMENT', 'CREATE_DOCUMENT', 'DELETE_DOCUMENT', 'UPDATE_DOCUMENT')
);

CREATE TABLE IF NOT EXISTS personal_info
(
    pers_info_id BINARY(16) PRIMARY KEY,
    username     VARCHAR(50) NOT NULL,
    birthday     DATE,
    phone_number VARCHAR(20) UNIQUE,
    email        VARCHAR(60) UNIQUE,
    password     VARCHAR(128) NOT NULL,
    salary       DECIMAL(10, 2) NOT NULL
);

CREATE TABLE IF NOT EXISTS work_schedules
(
    sched_id   BINARY(16) PRIMARY KEY,
    sched_name ENUM ('FIVE_DAY_SHIFT_08_17', 'FIVE_DAY_SHIFT_09_18', 'SHIFT_WORK'),
    is_day_off BOOLEAN,
    start_time TIME DEFAULT NULL,
    end_time   TIME DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS departments
(
    dep_id         BINARY(16) PRIMARY KEY,
    dep_name       ENUM ('IT', 'WAREHOUSE', 'SALES', 'FINANCE', 'HR'),
    dep_phone      VARCHAR(20),
    dep_email      VARCHAR(60),
    dep_manager_id BINARY(16) UNIQUE
);

CREATE TABLE IF NOT EXISTS employees
(
    emp_id             BINARY(16) PRIMARY KEY,
    first_name         VARCHAR(50) NOT NULL,
    last_name          VARCHAR(50) NOT NULL,
    position           ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    hire_date          DATE,
    term_date          DATE,
    workplace_location ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    status_emp         ENUM ('WORK', 'VACATION', 'SICK_LEAVE'),
    created_at         TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    vac_plan           VARCHAR(255) DEFAULT NULL,
    dep_id             BINARY(16) ,
    dep_manager_id     BINARY(16),
    sched_id           BINARY(16),
    pers_info_id       BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id),
    FOREIGN KEY (dep_manager_id) REFERENCES employees (emp_id),
    FOREIGN KEY (sched_id) REFERENCES work_schedules (sched_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);


CREATE TABLE IF NOT EXISTS vacancies
(
    vacancy_id           BINARY(16) PRIMARY KEY,
    position             ENUM ('MANAGER', 'ECONOMIST', 'SALES_MANAGER', 'PROGRAMMER', 'HR_MANAGER', 'STOREKEEPER', 'DRIVER') NOT NULL,
    vacancy_description  VARCHAR(255),
    vacancy_requirements VARCHAR(255),
    vacancy_salary       DECIMAL(10, 2),
    workplace_location   ENUM ('OFFICE', 'WAREHOUSE', 'SALES_AGENT_ROUTE'),
    vacancy_status       ENUM ('ACTIVE', 'CLOSE'),
    vacancy_contact_info VARCHAR(255),
    dep_id               BINARY(16) NOT NULL,
    FOREIGN KEY (dep_id) REFERENCES departments (dep_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vacations
(
    vac_id              BINARY(16) PRIMARY KEY,
    vac_start_date      DATE,
    vac_end_date        DATE,
    vac_type            BOOLEAN,
    vac_category        ENUM ('ANNUAL', 'MATERNITY', 'PARENTAL', 'UNPAID', 'OTHER'),
    substitution_emp_id BINARY(16) NOT NULL,
    emp_id              BINARY(16) NOT NULL,
    FOREIGN KEY (substitution_emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS addresses
(
    address_id   BINARY(16) PRIMARY KEY,
    country      VARCHAR(100),
    city         VARCHAR(100),
    street       VARCHAR(255),
    house_number VARCHAR(20),
    apart_number VARCHAR(20),
    address_type ENUM ('HOME', 'WORK'),
    pers_info_id BINARY(16) NOT NULL,
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id)
);
CREATE TABLE IF NOT EXISTS events
(
    ev_id           BINARY(16) PRIMARY KEY,
    ev_type         ENUM ('CONFERENCE', 'SEMINAR', 'HOLIDAY', 'UNPAID', 'EMPLOYEE_BIRTHDAY', 'TRAINING', 'SURVEY'),
    start_date_time TIMESTAMP,
    location        VARCHAR(255),
    description     VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS events_employee
(
    ev_id  BINARY(16) NOT NULL,
    emp_id BINARY(16) NOT NULL,
    PRIMARY KEY (emp_id, ev_id),
    FOREIGN KEY (emp_id) REFERENCES employees (emp_id),
    FOREIGN KEY (ev_id) REFERENCES events (ev_id)
);


CREATE TABLE IF NOT EXISTS pers_info_role
(
    pers_info_id BINARY(16) NOT NULL,
    role_id      BINARY(16) NOT NULL,
    PRIMARY KEY (pers_info_id, role_id),
    FOREIGN KEY (pers_info_id) REFERENCES personal_info (pers_info_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id)
);

CREATE TABLE IF NOT EXISTS role_authority
(
    role_id BINARY(16) NOT NULL,
    auth_id BINARY(16) NOT NULL,
    PRIMARY KEY (role_id, auth_id),
    FOREIGN KEY (role_id) REFERENCES roles (role_id),
    FOREIGN KEY (auth_id) REFERENCES authorities (auth_id)
);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:446)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:685)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE IF NOT EXISTS authorities
(
    auth_id   BINARY(16) PRIMARY KEY,
 ' at line 7
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:442)
	... 61 common frames omitted
25.05.2024 12:29:19.564 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void <init>()' not found
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: java.lang.NoSuchMethodError: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void <init>()' not found
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:24)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 13:35:17.004 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: No schema scripts found at location 'classpath:db/changelog/init-db.sql'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: java.lang.IllegalStateException: No schema scripts found at location 'classpath:db/changelog/init-db.sql'
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.getScripts(AbstractScriptDatabaseInitializer.java:129)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:106)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 13:59:26.447 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void <init>()' not found
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: java.lang.NoSuchMethodError: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void <init>()' not found
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:24)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 14:01:24.244 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void <init>()' not found
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: java.lang.NoSuchMethodError: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void <init>()' not found
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:24)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 14:03:58.419 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 14:03:59.458 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 14:04:01.447 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 14:04:02.166 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 14:04:03.453 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 14:04:03.825 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 14:04:17.857 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 14:05:33.065 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void <init>()' not found
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: java.lang.NoSuchMethodError: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void <init>()' not found
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:24)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 14:38:40.307 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 14:38:41.245 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 14:38:43.590 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 14:38:44.273 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 14:38:44.840 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 14:38:45.112 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 14:38:58.462 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 14:41:51.662 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void <init>()' not found
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: java.lang.NoSuchMethodError: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void <init>()' not found
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:24)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:406)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:391)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:247)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2445)
	at liquibase.Liquibase.update(Liquibase.java:235)
	at liquibase.Liquibase.update(Liquibase.java:220)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 14:44:34.112 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: No schema scripts found at location 'classpath:db/changelog/init-db.sql'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: java.lang.IllegalStateException: No schema scripts found at location 'classpath:db/changelog/init-db.sql'
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.getScripts(AbstractScriptDatabaseInitializer.java:129)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:106)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 14:45:13.579 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: No schema scripts found at location 'classpath:db/changelog/init-db.sql'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: java.lang.IllegalStateException: No schema scripts found at location 'classpath:db/changelog/init-db.sql'
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.getScripts(AbstractScriptDatabaseInitializer.java:129)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:106)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 14:48:08.213 [main] ERROR o.s.b.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: No schema scripts found at location 'classpath:db/changelog/init-db.sql'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.employeeoffice.EmployeeOfficeApplication.main(EmployeeOfficeApplication.java:10)
Caused by: java.lang.IllegalStateException: No schema scripts found at location 'classpath:db/changelog/init-db.sql'
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.getScripts(AbstractScriptDatabaseInitializer.java:129)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:106)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 18 common frames omitted
25.05.2024 14:59:33.715 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 14:59:38.567 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 14:59:48.910 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 14:59:50.566 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 15:00:03.227 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 15:00:04.572 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 15:00:05.000 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 16:18:39.741 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 16:18:41.130 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 16:18:43.081 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 16:18:44.204 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 16:18:44.967 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 16:18:45.233 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 16:18:58.392 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 16:25:22.487 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
25.05.2024 16:25:22.495 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 75 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 532480 != 524288 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 532480 != 524288
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
25.05.2024 16:25:22.504 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException:  : " : ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 532480 != 524288 [2.2.224/3]""\000aGeneral error: ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 532480 != 524288 [2.2.224/3]"" [50000-224]"
General error: " : ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 532480 != 524288 [2.2.224/3]""\000aGeneral error: ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 532480 != 524288 [2.2.224/3]"" [50000-224]" [50000-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:566)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.Database.throwLastBackgroundException(Database.java:1817)
	at org.h2.engine.SessionLocal.beforeCommitOrRollback(SessionLocal.java:764)
	at org.h2.engine.SessionLocal.commit(SessionLocal.java:679)
	at org.h2.command.Command.commitIfNonTransactional(Command.java:315)
	at org.h2.command.Command.executeUpdate(Command.java:247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 69 common frames omitted
Caused by: org.h2.message.DbException:  : "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 532480 != 524288 [2.2.224/3]"
General error: "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 532480 != 524288 [2.2.224/3]" [50000-224]
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.message.DbException.convert(DbException.java:407)
	at org.h2.mvstore.db.Store.lambda$new$0(Store.java:122)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:1546)
	at org.h2.mvstore.MVStore.panic(MVStore.java:371)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException:  : "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 532480 != 524288 [2.2.224/3]"
General error: "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 532480 != 524288 [2.2.224/3]" [50000-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:566)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 12 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 532480 != 524288 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	... 7 common frames omitted
Caused by: java.lang.AssertionError: 532480 != 524288
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
25.05.2024 17:06:25.116 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 17:06:26.732 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 17:06:32.039 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 17:06:32.707 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 17:06:37.306 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 17:06:37.732 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 17:06:37.921 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 17:07:58.284 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 17:07:59.180 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 17:08:00.835 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 17:08:01.590 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 17:08:02.301 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 17:08:02.761 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 17:08:14.437 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 19:48:05.197 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 19:48:06.232 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 19:48:08.301 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 19:48:09.064 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 19:48:10.544 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 19:48:10.909 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 19:48:37.151 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 19:50:08.519 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 19:50:10.305 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 19:50:14.573 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 19:50:15.480 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 19:50:19.220 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 19:50:20.266 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 19:50:20.495 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 19:58:44.626 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 19:59:24.689 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 19:59:26.376 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 19:59:32.887 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 19:59:34.258 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 19:59:48.051 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 19:59:49.486 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 19:59:57.040 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 19:59:57.441 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 19:59:57.511 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:05:14.670 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:06:03.180 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 20:06:05.368 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 20:06:11.509 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 20:06:12.107 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 20:06:15.635 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 20:06:16.087 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 20:06:20.986 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 20:06:21.063 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:06:21.126 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:08:11.477 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 20:08:20.739 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 20:08:21.048 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:08:21.183 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:08:24.773 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 20:08:29.082 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 20:08:31.756 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 20:08:32.453 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 20:08:42.444 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 20:14:44.013 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:16:24.021 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:20:29.608 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:24:32.385 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:25:04.633 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:25:59.157 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 20:26:00.662 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 20:26:05.877 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 20:26:06.531 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 20:26:10.906 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 20:26:11.636 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 20:26:15.456 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 20:26:15.549 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:26:15.766 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:26:15.902 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:26:16.023 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:27:30.761 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 20:27:41.697 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 20:27:42.011 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:27:42.610 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:27:42.720 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:27:42.820 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 20:27:44.318 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 20:27:44.997 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 20:27:45.575 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 20:27:45.852 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 20:27:53.251 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 20:42:46.367 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

25.05.2024 20:43:28.780 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

25.05.2024 20:45:32.521 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

25.05.2024 20:47:11.048 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

25.05.2024 20:47:34.418 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

25.05.2024 20:48:44.960 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

25.05.2024 20:55:43.568 [http-nio-8080-exec-2] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=PROGRAMMER, vacancyDescription=Programmer P D, vacancyRequirements=Requirements for Programmer Position, vacancyContactInfo=contact@example.com, depName=IT)]. VACANCY_ALREADY_EXIST
25.05.2024 21:04:58.582 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 21:05:00.319 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 21:05:06.689 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 21:05:07.639 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 21:05:13.127 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 21:05:13.766 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 21:05:17.522 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 21:05:17.581 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 21:05:17.626 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 21:06:53.414 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 21:07:06.496 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 21:07:06.880 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 21:07:07.040 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 21:07:08.826 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 21:07:10.434 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 21:07:11.499 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 21:07:11.921 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 21:07:20.991 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 21:27:13.140 [http-nio-8080-exec-5] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [efff9467-a80e-447d-8763-ee7acfa5c30c]. VACANCY_NOT_EXIST
25.05.2024 21:54:45.718 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 21:54:48.229 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 21:54:56.203 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 21:54:59.212 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 21:55:15.879 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 21:55:17.217 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 21:55:57.402 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 21:55:57.712 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 21:55:57.822 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 21:57:29.890 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 21:57:43.382 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 21:57:43.825 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 21:57:44.163 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 21:57:46.961 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 21:57:48.697 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 21:57:49.923 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 21:57:50.615 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 21:58:01.608 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 22:01:21.031 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 22:01:22.784 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 22:01:28.931 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 22:01:29.677 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 22:01:34.823 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 22:01:35.234 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 22:01:41.025 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 22:01:41.082 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:01:41.210 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:05:13.253 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 22:05:23.991 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 22:05:24.468 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:05:24.637 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:05:26.061 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 22:05:26.880 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 22:05:28.173 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 22:05:28.563 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 22:05:35.483 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 22:36:54.159 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 22:36:55.350 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 22:36:59.726 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 22:37:00.217 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 22:37:04.341 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 22:37:04.681 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 22:37:11.597 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 22:37:11.641 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:37:11.692 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:38:49.956 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 22:38:58.180 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 22:38:58.442 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:38:58.571 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:38:59.858 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 22:39:00.754 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 22:39:01.372 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 22:39:01.729 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 22:39:08.206 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 22:41:53.599 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 22:41:55.677 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 22:42:02.727 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 22:42:03.747 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 22:42:08.452 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
25.05.2024 22:42:09.035 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 22:42:13.752 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 22:42:13.913 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:42:13.962 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:44:11.369 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
25.05.2024 22:44:30.379 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
25.05.2024 22:44:30.938 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:44:31.376 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
25.05.2024 22:44:33.807 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
25.05.2024 22:44:37.408 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
25.05.2024 22:44:38.590 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
25.05.2024 22:44:38.997 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
25.05.2024 22:44:47.628 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 15:22:05.595 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 15:22:06.604 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 15:22:10.137 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 15:22:10.658 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 15:22:14.053 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 15:22:14.382 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 15:22:17.064 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
26.05.2024 15:22:17.114 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 15:22:17.160 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 15:25:51.973 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 15:26:00.315 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_DEPARTMENT_NAME]. DEPARTMENT_NOT_EXIST
26.05.2024 15:26:00.735 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 15:26:00.850 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 15:26:02.061 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 15:26:03.042 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 15:26:04.482 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 15:26:04.779 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 15:26:11.561 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 15:35:59.395 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 15:50:40.891 [http-nio-8081-exec-3] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=PROGRAMMER, vacancyDescription=Programmer P D, vacancyRequirements=Requirements for Programmer Position, vacancyContactInfo=contact@example.com, depName=IT)]. VACANCY_ALREADY_EXIST
26.05.2024 16:16:47.156 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 16:20:35.774 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 16:22:18.703 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 16:27:36.857 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 16:28:30.637 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 16:30:48.481 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:32:08.042 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:33:57.319 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 16:34:01.470 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 16:34:54.381 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 16:34:57.385 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 16:35:10.682 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 16:35:11.318 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 16:35:16.609 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:35:16.657 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:35:16.709 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:36:33.256 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:33.267 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:33.280 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException:  : " : ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]""\000aGeneral error: ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]"" [50000-224]"
General error: " : ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]""\000aGeneral error: ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]"" [50000-224]" [50000-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:566)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.Database.throwLastBackgroundException(Database.java:1817)
	at org.h2.engine.SessionLocal.beforeCommitOrRollback(SessionLocal.java:764)
	at org.h2.engine.SessionLocal.commit(SessionLocal.java:679)
	at org.h2.command.Command.commitIfNonTransactional(Command.java:315)
	at org.h2.command.Command.executeUpdate(Command.java:247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.message.DbException:  : "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]"
General error: "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]" [50000-224]
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.message.DbException.convert(DbException.java:407)
	at org.h2.mvstore.db.Store.lambda$new$0(Store.java:122)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:1546)
	at org.h2.mvstore.MVStore.panic(MVStore.java:371)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException:  : "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]"
General error: "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]" [50000-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:566)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 12 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	... 7 common frames omitted
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:36.138 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:36.140 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:36.147 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:50.279 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:36:50.742 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:36:50.887 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:36:50.991 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:50.993 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.005 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.081 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:51.084 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.092 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.136 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:51.137 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.141 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.215 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:51.218 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.234 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.664 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:51.666 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.671 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.956 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:51.957 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:51.966 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:52.142 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:52.143 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:52.236 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:52.627 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:52.628 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:52.631 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:52.722 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:52.724 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:52.728 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:52.807 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:52.810 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:52.813 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:52.858 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:52.859 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:52.869 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:53.075 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:53.079 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:53.085 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:53.353 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:53.354 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:53.359 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:53.479 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:53.480 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:53.490 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:53.824 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:36:53.825 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 76 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:53.831 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 679936 != 671744 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 679936 != 671744
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:36:56.915 [main] ERROR c.z.h.p.HikariPool - HikariPool-3 - Exception during pool initialization.
org.h2.jdbc.JdbcSQLNonTransientConnectionException:    : "Server is running".  :    ;   
Database may be already in use: "Server is running". Possible solutions: close all other connection(s); use the server mode; SQL statement:
172.17.96.1:63365/18fb51e18dd14ab677709371ce979ad35dcc252f710 [90020-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.engine.SessionRemote.readException(SessionRemote.java:650)
	at org.h2.engine.SessionRemote.done(SessionRemote.java:619)
	at org.h2.engine.SessionRemote.initTransfer(SessionRemote.java:163)
	at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:438)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:355)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
26.05.2024 16:37:02.984 [main] ERROR c.z.h.p.HikariPool - HikariPool-3 - Exception during pool initialization.
org.h2.jdbc.JdbcSQLNonTransientConnectionException:    : "Server is running".  :    ;   
Database may be already in use: "Server is running". Possible solutions: close all other connection(s); use the server mode; SQL statement:
172.17.96.1:63365/18fb51e18dd14ab677709371ce979ad35dcc252f710 [90020-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.engine.SessionRemote.readException(SessionRemote.java:650)
	at org.h2.engine.SessionRemote.done(SessionRemote.java:619)
	at org.h2.engine.SessionRemote.initTransfer(SessionRemote.java:163)
	at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:438)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:355)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:46)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:176)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:531)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
26.05.2024 16:37:02.987 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    : "Server is running".  :    ;   
Database may be already in use: "Server is running". Possible solutions: close all other connection(s); use the server mode; SQL statement:
172.17.96.1:63365/18fb51e18dd14ab677709371ce979ad35dcc252f710 [90020-224]
26.05.2024 16:37:04.042 [main] ERROR c.z.h.p.HikariPool - HikariPool-3 - Exception during pool initialization.
org.h2.jdbc.JdbcSQLNonTransientConnectionException:    : "Server is running".  :    ;   
Database may be already in use: "Server is running". Possible solutions: close all other connection(s); use the server mode; SQL statement:
172.17.96.1:63365/18fb51e18dd14ab677709371ce979ad35dcc252f710 [90020-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.engine.SessionRemote.readException(SessionRemote.java:650)
	at org.h2.engine.SessionRemote.done(SessionRemote.java:619)
	at org.h2.engine.SessionRemote.initTransfer(SessionRemote.java:163)
	at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:438)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:355)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:46)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:176)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:531)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
26.05.2024 16:37:04.044 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    : "Server is running".  :    ;   
Database may be already in use: "Server is running". Possible solutions: close all other connection(s); use the server mode; SQL statement:
172.17.96.1:63365/18fb51e18dd14ab677709371ce979ad35dcc252f710 [90020-224]
26.05.2024 16:37:05.098 [main] ERROR c.z.h.p.HikariPool - HikariPool-3 - Exception during pool initialization.
org.h2.jdbc.JdbcSQLNonTransientConnectionException:    : "Server is running".  :    ;   
Database may be already in use: "Server is running". Possible solutions: close all other connection(s); use the server mode; SQL statement:
172.17.96.1:63365/18fb51e18dd14ab677709371ce979ad35dcc252f710 [90020-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.engine.SessionRemote.readException(SessionRemote.java:650)
	at org.h2.engine.SessionRemote.done(SessionRemote.java:619)
	at org.h2.engine.SessionRemote.initTransfer(SessionRemote.java:163)
	at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:438)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:355)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:46)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:176)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:531)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
26.05.2024 16:37:05.100 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    : "Server is running".  :    ;   
Database may be already in use: "Server is running". Possible solutions: close all other connection(s); use the server mode; SQL statement:
172.17.96.1:63365/18fb51e18dd14ab677709371ce979ad35dcc252f710 [90020-224]
26.05.2024 16:37:06.131 [main] ERROR c.z.h.p.HikariPool - HikariPool-3 - Exception during pool initialization.
org.h2.jdbc.JdbcSQLNonTransientConnectionException:    : "Server is running".  :    ;   
Database may be already in use: "Server is running". Possible solutions: close all other connection(s); use the server mode; SQL statement:
172.17.96.1:63365/18fb51e18dd14ab677709371ce979ad35dcc252f710 [90020-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.engine.SessionRemote.readException(SessionRemote.java:650)
	at org.h2.engine.SessionRemote.done(SessionRemote.java:619)
	at org.h2.engine.SessionRemote.initTransfer(SessionRemote.java:163)
	at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:438)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:355)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:46)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:176)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:531)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
26.05.2024 16:37:06.133 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    : "Server is running".  :    ;   
Database may be already in use: "Server is running". Possible solutions: close all other connection(s); use the server mode; SQL statement:
172.17.96.1:63365/18fb51e18dd14ab677709371ce979ad35dcc252f710 [90020-224]
26.05.2024 16:37:08.104 [main] ERROR c.z.h.p.HikariPool - HikariPool-4 - Exception during pool initialization.
org.h2.jdbc.JdbcSQLNonTransientConnectionException:    : "Server is running".  :    ;   
Database may be already in use: "Server is running". Possible solutions: close all other connection(s); use the server mode; SQL statement:
172.17.96.1:63365/18fb51e18dd14ab677709371ce979ad35dcc252f710 [90020-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.engine.SessionRemote.readException(SessionRemote.java:650)
	at org.h2.engine.SessionRemote.done(SessionRemote.java:619)
	at org.h2.engine.SessionRemote.initTransfer(SessionRemote.java:163)
	at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:438)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:355)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
26.05.2024 16:38:42.627 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 16:38:43.688 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 16:38:48.153 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 16:38:48.894 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 16:38:55.667 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 16:38:56.311 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 16:39:01.817 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:39:01.900 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:39:01.953 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:41:12.787 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 16:41:20.828 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:41:21.033 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:41:21.182 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 16:41:22.236 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 16:41:22.908 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 16:41:23.634 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 16:41:23.867 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 16:41:29.522 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 16:45:34.479 [main] ERROR o.h.e.j.s.SqlExceptionHelper -    
The database has been closed [90098-224]
26.05.2024 16:45:34.486 [main] ERROR o.s.o.j.EntityManagerFactoryUtils - Failed to release JPA EntityManager
org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection [   
The database has been closed [90098-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:228)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:258)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:161)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:442)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:409)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:391)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:424)
	at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:653)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1061)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:942)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException:    
The database has been closed [90098-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.SessionLocal.getTransaction(SessionLocal.java:1610)
	at org.h2.engine.SessionLocal.getStatementSavepoint(SessionLocal.java:1620)
	at org.h2.engine.SessionLocal.setSavepoint(SessionLocal.java:858)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1441)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:516)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:249)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:64)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:224)
	... 75 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 618496 != 610304 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.AssertionError: 618496 != 610304
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:45:34.515 [main] ERROR o.s.t.s.TransactionTemplate - Application exception overridden by rollback exception
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/drop_tables_test.sql]: drop table if exists role_authority cascade
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:362)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:275)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:275)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:222)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:165)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:167)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:203)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:203)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:133)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException:  : " : ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 618496 != 610304 [2.2.224/3]""\000aGeneral error: ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 618496 != 610304 [2.2.224/3]"" [50000-224]"
General error: " : ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 618496 != 610304 [2.2.224/3]""\000aGeneral error: ""org.h2.mvstore.MVStoreException: java.lang.AssertionError: 618496 != 610304 [2.2.224/3]"" [50000-224]" [50000-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:566)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.engine.Database.throwLastBackgroundException(Database.java:1817)
	at org.h2.engine.SessionLocal.beforeCommitOrRollback(SessionLocal.java:764)
	at org.h2.engine.SessionLocal.commit(SessionLocal.java:679)
	at org.h2.command.Command.commitIfNonTransactional(Command.java:315)
	at org.h2.command.Command.executeUpdate(Command.java:247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 69 common frames omitted
Caused by: org.h2.message.DbException:  : "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 618496 != 610304 [2.2.224/3]"
General error: "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 618496 != 610304 [2.2.224/3]" [50000-224]
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.message.DbException.convert(DbException.java:407)
	at org.h2.mvstore.db.Store.lambda$new$0(Store.java:122)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:1546)
	at org.h2.mvstore.MVStore.panic(MVStore.java:371)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1529)
	at org.h2.mvstore.FileStore.lambda$serializeAndStore$3(FileStore.java:1432)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException:  : "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 618496 != 610304 [2.2.224/3]"
General error: "org.h2.mvstore.MVStoreException: java.lang.AssertionError: 618496 != 610304 [2.2.224/3]" [50000-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:566)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 12 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: java.lang.AssertionError: 618496 != 610304 [2.2.224/3]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	... 7 common frames omitted
Caused by: java.lang.AssertionError: 618496 != 610304
	at org.h2.mvstore.RandomAccessStore.shrinkStoreIfPossible(RandomAccessStore.java:679)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:377)
	at org.h2.mvstore.RandomAccessStore.writeChunk(RandomAccessStore.java:28)
	at org.h2.mvstore.FileStore.storeBuffer(FileStore.java:1524)
	... 6 common frames omitted
26.05.2024 16:54:03.359 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 16:58:40.693 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

26.05.2024 17:02:41.419 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:06:26.973 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:10:48.541 [http-nio-8081-exec-7] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [TI]. DEPARTMENT_NOT_EXIST
26.05.2024 17:10:55.123 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

26.05.2024 17:11:49.791 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:18:22.744 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:20:21.997 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:22:46.003 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:25:22.056 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:30:06.309 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:33:29.149 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:36:36.590 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:39:10.959 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [NonExistingDepartment]. No enum constant com.example.employeeoffice.entity.enums.DepartmentName.NonExistingDepartment
26.05.2024 17:40:55.453 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [IT]. DEPARTMENT_NOT_EXIST
26.05.2024 17:48:37.614 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 17:48:39.861 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 17:48:48.759 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 17:48:50.451 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 17:49:00.051 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 17:49:00.897 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 17:49:08.496 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. No enum constant com.example.employeeoffice.entity.enums.DepartmentName.Production
26.05.2024 17:49:08.745 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. No enum constant com.example.employeeoffice.entity.enums.DepartmentName.Production
26.05.2024 17:56:22.716 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 17:59:54.931 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 17:59:57.027 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 18:00:05.552 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 18:00:06.154 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 18:00:11.701 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 18:00:12.169 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 18:00:16.301 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 18:02:23.584 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 18:02:45.208 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 18:02:50.638 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 18:02:52.686 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 18:02:56.247 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 18:02:57.737 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 18:03:13.897 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 18:10:03.035 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 18:10:05.146 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 18:10:12.646 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 18:10:13.330 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 18:10:20.775 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 18:10:21.726 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 18:10:32.821 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [Production]. DEPARTMENT_NOT_EXIST
26.05.2024 18:24:20.907 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [PRODUCTION]. DEPARTMENT_NOT_EXIST
26.05.2024 18:27:45.132 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [PRODUCTION]. DEPARTMENT_NOT_EXIST
26.05.2024 18:28:24.165 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 18:28:25.430 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 18:28:29.522 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 18:28:30.084 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 18:28:33.640 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 18:28:34.108 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 18:28:37.150 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [PRODUCTION]. DEPARTMENT_NOT_EXIST
26.05.2024 18:29:54.192 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 18:30:05.202 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [PRODUCTION]. DEPARTMENT_NOT_EXIST
26.05.2024 18:30:07.462 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 18:30:08.595 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 18:30:09.329 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 18:30:09.644 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 18:30:15.603 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 18:41:25.784 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=HR_MANAGER, vacancyDescription=HR Position Description, vacancyRequirements=Requirements for HR manager Position, vacancyContactInfo=contact@example.com, depName=HR)]. VACANCY_ALREADY_EXIST
26.05.2024 18:43:48.362 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=HR_MANAGER, vacancyDescription=HR Position Description, vacancyRequirements=Requirements for HR manager Position, vacancyContactInfo=contact@example.com, depName=HR)]. VACANCY_ALREADY_EXIST
26.05.2024 18:45:03.326 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=HR_MANAGER, vacancyDescription=HR Position Description, vacancyRequirements=Requirements for HR manager Position, vacancyContactInfo=contact@example.com, depName=HR)]. VACANCY_ALREADY_EXIST
26.05.2024 18:48:03.744 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=HR_MANAGER, vacancyDescription=HR Position Description, vacancyRequirements=Requirements for HR manager Position, vacancyContactInfo=contact@example.com, depName=HR)]. VACANCY_ALREADY_EXIST
26.05.2024 18:48:45.078 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 18:48:46.269 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 18:48:50.890 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 18:48:51.640 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 18:48:55.784 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=HR_MANAGER, vacancyDescription=HR Position Description, vacancyRequirements=Requirements for HR manager Position, vacancyContactInfo=contact@example.com, depName=HR)]. VACANCY_ALREADY_EXIST
26.05.2024 18:48:55.972 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 18:48:56.565 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 18:49:00.050 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [PRODUCTION]. DEPARTMENT_NOT_EXIST
26.05.2024 18:50:30.675 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 18:50:42.282 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [PRODUCTION]. DEPARTMENT_NOT_EXIST
26.05.2024 18:50:43.782 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 18:50:44.454 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 18:50:45.269 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 18:50:45.551 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 18:50:53.170 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=HR_MANAGER, vacancyDescription=HR Position Description, vacancyRequirements=Requirements for HR manager Position, vacancyContactInfo=contact@example.com, depName=HR)]. VACANCY_ALREADY_EXIST
26.05.2024 18:50:53.389 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 18:57:24.248 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 18:57:25.369 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 18:57:28.965 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 18:57:29.293 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 18:57:32.848 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=HR_MANAGER, vacancyDescription=HR Position Description, vacancyRequirements=Requirements for HR manager Position, vacancyContactInfo=contact@example.com, depName=HR)]. VACANCY_ALREADY_EXIST
26.05.2024 18:57:33.130 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
26.05.2024 18:57:33.536 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 18:57:37.065 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [PRODUCTION]. DEPARTMENT_NOT_EXIST
26.05.2024 18:59:32.834 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [b23a92eb-398c-4ba9-9680-b4b3a72a911d]. ADDRESS_NOT_EXIST
26.05.2024 18:59:44.824 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [PRODUCTION]. DEPARTMENT_NOT_EXIST
26.05.2024 18:59:46.800 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [8881bf3e-73a9-47da-8bae-e2e253a30ddd]. EMPLOYEE_NOT_EXIST
26.05.2024 18:59:47.847 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [1f486486-97dc-4f50-8fb1-cd87d5dd37e2]. PERSONAL_INFO_NOT_EXIST
26.05.2024 18:59:48.628 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [INVALID_ROLE]. Invalid role name: INVALID_ROLE
26.05.2024 18:59:48.941 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [44d1e267-7034-4c72-989b-0e3214f264ce]. ROLE_ID_NOT_FOUND_EXCEPTION
26.05.2024 18:59:55.608 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [VacancyCreateDto(position=HR_MANAGER, vacancyDescription=HR Position Description, vacancyRequirements=Requirements for HR manager Position, vacancyContactInfo=contact@example.com, depName=HR)]. VACANCY_ALREADY_EXIST
26.05.2024 18:59:55.921 [main] ERROR c.e.e.a.LoggingAspect - Request throw an exception. Cause - [61b02a7e-e57c-4321-ba34-73d59bfbddec]. VACANCY_NOT_EXIST
